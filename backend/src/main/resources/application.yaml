server:
  port: 8900
  ssl:
    key-store-password: ${SSL_KEY_STORE_PASSWORD:4s7kkpfe}
    key-store-type: JKS
    key-store: classpath:xplorers.cn.jks

spring:
  main:
    allow-circular-references: true
  # 数据库连接信息 - 使用环境变量
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/shop
    username: ${MYSQL_USER:root}
    password: ${MYSQL_PASSWORD:}
    lettuce:
      pool:
        max-active: 10
        max-idle: 10
        min-idle: 1
        time-between-eviction-runs: 10s
  data:
    redis:
      port: ${REDIS_PORT:6379}
      host: ${REDIS_HOST:localhost}
      password: ${REDIS_PASSWORD:}
      timeout: 10000
      database: 12
  mail:
    host: smtp.qq.com
    username: ${MAIL_USERNAME:}
    password: ${MAIL_PASSWORD:}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

# MybatisPlus 配置
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  type-aliases-package: com.tl.satoken.entity
  global-config:
    db-config:
      id-type: auto
  mapper-locations: "classpath*:/mapper/**/*.xml"

# 阿里云 OSS 配置 - 使用环境变量
aliyun:
  oss:
    endpoint: ${ALIYUN_OSS_ENDPOINT:oss-cn-beijing.aliyuncs.com}
    accessKeyId: ${ALIYUN_OSS_ACCESS_KEY_ID:}
    accessKeySecret: ${ALIYUN_OSS_ACCESS_KEY_SECRET:}
    bucketName: ${ALIYUN_OSS_BUCKET_NAME:}
